<!--Using State, like react-->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>DOM way</title>
</head>

<body>
    <br></br>
    <div>
        <input type="text" id="title" placeholder="title">
        <br></br>
        <input type="text" id="description" placeholder="description">
        <br></br>
        <button onclick="updateDomAcctoState()" >Add ToDo</button>
        <br></br>
    </div>
    <div id ="container">
        
    </div>

    <script>
        let globalId=1;
    
        function markasdone(todoId){
            const parent = document.getElementById(todoId);
            parent.children[2].innerHTML = "DOne"
        }
    
        function createchild(title,description,Id){
            const child = document.createElement("div")
            const firstchild = document.createElement("div")
            firstchild.innerHTML = title;
            const secondchild = document.createElement("div") 
            secondchild.innerHTML = description;
            const thirdchild = document.createElement("button")
            thirdchild.innerHTML = "mark as done"
            thirdchild.setAttribute("onclick", `markasdone(${Id})`);
            child.appendChild(firstchild);
            child.appendChild(secondchild);
            child.appendChild(thirdchild);
            child.setAttribute("id",Id)
            return child;
    
        }
    
        function updateDomAcctoState(state){
            const parent = document.getElementById("container");
            parent.innerHTML = "";
            for(let i =0;i<state.length;i++){
                const child = createchild(state[i].title,state[i].description,state[i].Id)
                parent.appendChild(child)
            }
        }
        
        /* window.setInterval(async function(){
            const res = await fetch("http://localhost:3000/todos");
            const json = await res.json();
            updateDomAcctoState(json.todos);
        },5000)


        /*pdateDomAcctoState([
            {title:"go to gym",
            description:"workout",
            Id: 1},
            {title:"go to gym3",
            description:"workowut",
            Id: 2}
        ]);*/
    
        
    </script>
</body>
</html>